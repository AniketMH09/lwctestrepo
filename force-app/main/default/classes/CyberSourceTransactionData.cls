//Generated by wsdl2apex
 
public class CyberSourceTransactionData {
    public class PaySubscriptionCreateService {
        public String paymentRequestID;
        public String paymentRequestToken;
        public String disableAutoAuth;
        public String run;
        private String[] paymentRequestID_type_info = new String[]{'paymentRequestID','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] paymentRequestToken_type_info = new String[]{'paymentRequestToken','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] disableAutoAuth_type_info = new String[]{'disableAutoAuth','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] run_att_info = new String[]{'run'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'paymentRequestID','paymentRequestToken','disableAutoAuth'};
    }
    public class PaySubscriptionCreateReply {
        public Integer reasonCode;
        public String subscriptionID;
        private String[] reasonCode_type_info = new String[]{'reasonCode','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] subscriptionID_type_info = new String[]{'subscriptionID','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'reasonCode','subscriptionID'};
    }
    public class Security {
        public UsernameToken usernameToken;
        private string[] usernameToken_type_info = new string[]{'UsernameToken','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd','usernameToken','0','1','true'};
        private String[] apex_schema_type_info = new String[]{'http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd','true','false'};
        private String[] field_order_type_info = new String[]{'usernameToken'};
    }
    public class UsernameToken {
        public string Username;
        public string Password;
        private string[] Username_type_info = new string[]{'Username','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd','string','0','1','true'};
        private String[] Password_type_info = new String[]{'Password','http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd','string','1','1','true'};
        private String[] apex_schema_type_info = new String[]{'http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd','true','false'};
        private String[] field_order_type_info = new String[]{'Username','Password'};
    }
    public class RecurringSubscriptionInfo {
        public String frequency;
        private String[] frequency_type_info = new String[]{'frequency','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'frequency'};
    }
    public class RequestMessage {
        public String merchantID;
        public String merchantReferenceCode;
        public String clientEnvironment;
        public String clientSecurityLibraryVersion;
        public String clientApplication;
        public String clientApplicationUser;
        public String clientApplicationVersion;
        public String customerID;
        public CyberSourceTransactionData.BillTo billTo;
        public CyberSourceTransactionData.PurchaseTotals purchaseTotals;
        public CyberSourceTransactionData.Check check;
        public CyberSourceTransactionData.Subscription subscription;
        public CyberSourceTransactionData.RecurringSubscriptionInfo recurringSubscriptionInfo;
        public CyberSourceTransactionData.PaySubscriptionCreateService paySubscriptionCreateService;
        private String[] merchantID_type_info = new String[]{'merchantID','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] merchantReferenceCode_type_info = new String[]{'merchantReferenceCode','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] clientEnvironment_type_info = new String[]{'clientEnvironment','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] clientSecurityLibraryVersion_type_info = new String[]{'clientSecurityLibraryVersion','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] clientApplication_type_info = new String[]{'clientApplication','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] clientApplicationUser_type_info = new String[]{'clientApplicationUser','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] clientApplicationVersion_type_info = new String[]{'clientApplicationVersion','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] customerID_type_info = new String[]{'customerID','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] billTo_type_info = new String[]{'billTo','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] purchaseTotals_type_info = new String[]{'purchaseTotals','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] check_type_info = new String[]{'check','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] subscription_type_info = new String[]{'subscription','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] recurringSubscriptionInfo_type_info = new String[]{'recurringSubscriptionInfo','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] paySubscriptionCreateService_type_info = new String[]{'paySubscriptionCreateService','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'merchantID','merchantReferenceCode','clientEnvironment','clientSecurityLibraryVersion','clientApplication','clientApplicationUser','clientApplicationVersion','customerID','billTo','purchaseTotals','check','subscription','recurringSubscriptionInfo','paySubscriptionCreateService'};
    }
    public class PurchaseTotals {
        public String currency_x;
        private String[] currency_x_type_info = new String[]{'currency','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'currency_x'};
    }
    public class BillTo {
        public String firstName;
        public String lastName;
        public String street1;
        public String city;
        public String state;
        public String postalCode;
        public String country;
        public String phoneNumber;
        public String email;
        private String[] firstName_type_info = new String[]{'firstName','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] lastName_type_info = new String[]{'lastName','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] street1_type_info = new String[]{'street1','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] city_type_info = new String[]{'city','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] state_type_info = new String[]{'state','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] postalCode_type_info = new String[]{'postalCode','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] country_type_info = new String[]{'country','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] phoneNumber_type_info = new String[]{'phoneNumber','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] email_type_info = new String[]{'email','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'firstName','lastName','street1','city','state','postalCode','country','phoneNumber','email'};
    }
    public class Check {
        public String accountNumber;
        public String accountType;
        public String bankTransitNumber;
        private String[] accountNumber_type_info = new String[]{'accountNumber','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] accountType_type_info = new String[]{'accountType','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] bankTransitNumber_type_info = new String[]{'bankTransitNumber','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'accountNumber','accountType','bankTransitNumber'};
    }
    public class Subscription {
        public String paymentMethod;
        private String[] paymentMethod_type_info = new String[]{'paymentMethod','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'paymentMethod'};
    }
    public class ReplyMessage {
        public String merchantReferenceCode;
        public String requestID;
        public String decision;
        public Integer reasonCode;
        public String requestToken;
        public String[] missingField;
        public String[] invalidField;
        public CyberSourceTransactionData.PaySubscriptionCreateReply paySubscriptionCreateReply;
        private String[] merchantReferenceCode_type_info = new String[]{'merchantReferenceCode','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] requestID_type_info = new String[]{'requestID','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] decision_type_info = new String[]{'decision','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] reasonCode_type_info = new String[]{'reasonCode','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] requestToken_type_info = new String[]{'requestToken','urn:schemas-cybersource-com:transaction-data-1.130',null,'1','1','false'};
        private String[] missingField_type_info = new String[]{'missingField','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1000','false'};
        private String[] invalidField_type_info = new String[]{'invalidField','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1000','false'};
        private String[] paySubscriptionCreateReply_type_info = new String[]{'paySubscriptionCreateReply','urn:schemas-cybersource-com:transaction-data-1.130',null,'0','1','false'};
        private String[] apex_schema_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data-1.130','true','false'};
        private String[] field_order_type_info = new String[]{'merchantReferenceCode','requestID','decision','reasonCode','requestToken','missingField','invalidField','paySubscriptionCreateReply'};
            
    }
    public class portXML {
        public String endpoint_x;
        public Map<String,String> inputHttpHeaders_x;
        public Map<String,String> outputHttpHeaders_x;
        public String clientCertName_x;
        public String clientCert_x;
        public String clientCertPasswd_x;
        public Integer timeout_x;
        public CyberSourceTransactionData.Security Header;
        private string Header_hns = 'Security=http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd';
        private String[] ns_map_type_info = new String[]{'urn:schemas-cybersource-com:transaction-data:TransactionProcessor', 'CyberSourceTransactionData', 'urn:schemas-cybersource-com:transaction-data-1.130', 'CyberSourceTransactionData'};
        public CyberSourceTransactionData.ReplyMessage runTransaction(String merchantID,String merchantReferenceCode,String clientEnvironment,String clientSecurityLibraryVersion,String clientApplication,String clientApplicationUser,String clientApplicationVersion,String customerID,CyberSourceTransactionData.BillTo billTo,CyberSourceTransactionData.PurchaseTotals purchaseTotals,CyberSourceTransactionData.Check check,CyberSourceTransactionData.Subscription subscription,CyberSourceTransactionData.RecurringSubscriptionInfo recurringSubscriptionInfo,CyberSourceTransactionData.PaySubscriptionCreateService paySubscriptionCreateService) {
        
            if(UtilityClass.getEnvName().equalsIgnoreCase('Prod')){ 
               endpoint_x = 'callout:NC_Cybersource_Prod';   
            }
            else
            {
                endpoint_x = 'callout:NC_Cybersource_Test'; 
            }
            system.debug('Endpoint ' + endpoint_x);
            CyberSourceTransactionData.UsernameToken Utoken = new CyberSourceTransactionData.UsernameToken();
            Utoken.Username = '{!$Credential.UserName}';
            
            Utoken.Password = '{!$Credential.Password}';
            CyberSourceTransactionData.Security USecurity = new CyberSourceTransactionData.Security();
            USecurity.usernameToken = Utoken;
            this.Header = USecurity;
                
            CyberSourceTransactionData.RequestMessage request_x = new CyberSourceTransactionData.RequestMessage();
            request_x.merchantID = merchantID;
            request_x.merchantReferenceCode = merchantReferenceCode;
            request_x.clientEnvironment = clientEnvironment;
            request_x.clientSecurityLibraryVersion = clientSecurityLibraryVersion;
            request_x.clientApplication = clientApplication;
            request_x.clientApplicationUser = clientApplicationUser;
            request_x.clientApplicationVersion = clientApplicationVersion;
            request_x.customerID = customerID;
            request_x.billTo = billTo;
            request_x.purchaseTotals = purchaseTotals;
            request_x.check = check;
            request_x.subscription = subscription;
            request_x.recurringSubscriptionInfo = recurringSubscriptionInfo;
            request_x.paySubscriptionCreateService = paySubscriptionCreateService;
            CyberSourceTransactionData.ReplyMessage response_x;
            Map<String, CyberSourceTransactionData.ReplyMessage> response_map_x = new Map<String, CyberSourceTransactionData.ReplyMessage>();
            response_map_x.put('response_x', response_x);
            WebServiceCallout.invoke(
              this,
              request_x,
              response_map_x,
              new String[]{endpoint_x,
              'runTransaction',
              'urn:schemas-cybersource-com:transaction-data-1.130',
              'requestMessage',
              'urn:schemas-cybersource-com:transaction-data-1.130',
              'replyMessage',
              'CyberSourceTransactionData.ReplyMessage'}
            );
            response_x = response_map_x.get('response_x');
            return response_x;
        }
    }
}